<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPack: Configuration Options</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-mpack-css.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MPack
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A C encoding/decoding library for the MessagePack serialization format.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Configuration Options</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Defines the MPack configuration options. </p>
<p>You can configure MPack by pre-defining any of the below options in your build system or project settings.</p>
<p>Custom configuration of MPack is not usually necessary. In almost all cases you can ignore this and use the defaults. If you are using the amalgamation package, you do not need to add <code>mpack-defaults.h</code> to your project.</p>
<p>If you do want to configure MPack, the easiest way is to pre-define some of the below options as part of your build system or project settings. This will override the below defaults.</p>
<p>If you'd like to use a file for configuration instead, define <a class="el" href="group__config.html#ga4e0e2bdb75e6b597b16caaf42439b2a2">MPACK_HAS_CONFIG</a> to 1 in your build system or project settings. This will cause MPack to include a file you create called <code>mpack-config.h</code>. You can copy <code>mpack-defaults.h</code> to <code>mpack-config.h</code> and make your changes, or create a blank <code>mpack-config.h</code> and set only the options you want. The below settings are the defaults if they are not set by your configuration file.</p>
<dl class="section warning"><dt>Warning</dt><dd>The value of all configuration options must be the same in all translation units of your project, as well as in <code>mpack.c</code> itself. These configuration options affect the layout of structs, among other things, which cannot be different in source files that are linked together. </dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Features</h2></td></tr>
<tr class="memitem:gafc71f44de1132a4efed4e2d450eb8197"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gafc71f44de1132a4efed4e2d450eb8197">MPACK_READER</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:gafc71f44de1132a4efed4e2d450eb8197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables compilation of the base Tag Reader.  <a href="#gafc71f44de1132a4efed4e2d450eb8197">More...</a><br /></td></tr>
<tr class="separator:gafc71f44de1132a4efed4e2d450eb8197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e845bcb4582176785c92cbdb091c4a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga6e845bcb4582176785c92cbdb091c4a5">MPACK_EXPECT</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga6e845bcb4582176785c92cbdb091c4a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables compilation of the static Expect API.  <a href="#ga6e845bcb4582176785c92cbdb091c4a5">More...</a><br /></td></tr>
<tr class="separator:ga6e845bcb4582176785c92cbdb091c4a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac5bc095026e6f851370c966845bb91f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gaac5bc095026e6f851370c966845bb91f">MPACK_NODE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:gaac5bc095026e6f851370c966845bb91f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables compilation of the dynamic Node API.  <a href="#gaac5bc095026e6f851370c966845bb91f">More...</a><br /></td></tr>
<tr class="separator:gaac5bc095026e6f851370c966845bb91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76dacaad0bc2e5bb9421338f1eeecd0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga76dacaad0bc2e5bb9421338f1eeecd0f">MPACK_WRITER</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga76dacaad0bc2e5bb9421338f1eeecd0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables compilation of the Writer.  <a href="#ga76dacaad0bc2e5bb9421338f1eeecd0f">More...</a><br /></td></tr>
<tr class="separator:ga76dacaad0bc2e5bb9421338f1eeecd0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b7bc28af1393f6ab472f4595e29387b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga3b7bc28af1393f6ab472f4595e29387b">MPACK_COMPATIBILITY</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga3b7bc28af1393f6ab472f4595e29387b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables compatibility features for reading and writing older versions of MessagePack.  <a href="#ga3b7bc28af1393f6ab472f4595e29387b">More...</a><br /></td></tr>
<tr class="separator:ga3b7bc28af1393f6ab472f4595e29387b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1d8587f6e314e491c7fdb262f0b2bd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gab1d8587f6e314e491c7fdb262f0b2bd1">MPACK_EXTENSIONS</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gab1d8587f6e314e491c7fdb262f0b2bd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the use of extension types.  <a href="#gab1d8587f6e314e491c7fdb262f0b2bd1">More...</a><br /></td></tr>
<tr class="separator:gab1d8587f6e314e491c7fdb262f0b2bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Dependencies</h2></td></tr>
<tr class="memitem:ga4e0e2bdb75e6b597b16caaf42439b2a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga4e0e2bdb75e6b597b16caaf42439b2a2">MPACK_HAS_CONFIG</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga4e0e2bdb75e6b597b16caaf42439b2a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the use of an <code>mpack-config.h</code> configuration file for MPack.  <a href="#ga4e0e2bdb75e6b597b16caaf42439b2a2">More...</a><br /></td></tr>
<tr class="separator:ga4e0e2bdb75e6b597b16caaf42439b2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94840bf23dac204b9fe48c769777400e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga94840bf23dac204b9fe48c769777400e">MPACK_STDLIB</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga94840bf23dac204b9fe48c769777400e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the use of C stdlib.  <a href="#ga94840bf23dac204b9fe48c769777400e">More...</a><br /></td></tr>
<tr class="separator:ga94840bf23dac204b9fe48c769777400e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab26adf73d74737f21ee1ec6bf8f213c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gab26adf73d74737f21ee1ec6bf8f213c6">MPACK_STDIO</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:gab26adf73d74737f21ee1ec6bf8f213c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the use of C stdio.  <a href="#gab26adf73d74737f21ee1ec6bf8f213c6">More...</a><br /></td></tr>
<tr class="separator:gab26adf73d74737f21ee1ec6bf8f213c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
System Functions</h2></td></tr>
<tr class="memitem:gaae24f07943fceb85820a88fa72373482"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gaae24f07943fceb85820a88fa72373482">MPACK_MALLOC</a>&#160;&#160;&#160;malloc</td></tr>
<tr class="memdesc:gaae24f07943fceb85820a88fa72373482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the memory allocation function used by MPack.  <a href="#gaae24f07943fceb85820a88fa72373482">More...</a><br /></td></tr>
<tr class="separator:gaae24f07943fceb85820a88fa72373482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga298d7c2e4093bcfe361088df9e35956a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga298d7c2e4093bcfe361088df9e35956a">MPACK_FREE</a>&#160;&#160;&#160;free</td></tr>
<tr class="memdesc:ga298d7c2e4093bcfe361088df9e35956a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the memory free function used by MPack.  <a href="#ga298d7c2e4093bcfe361088df9e35956a">More...</a><br /></td></tr>
<tr class="separator:ga298d7c2e4093bcfe361088df9e35956a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga811ae202f55b9c6a15f6c3ea138964fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga811ae202f55b9c6a15f6c3ea138964fa">MPACK_REALLOC</a>&#160;&#160;&#160;realloc</td></tr>
<tr class="memdesc:ga811ae202f55b9c6a15f6c3ea138964fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the realloc function used by MPack.  <a href="#ga811ae202f55b9c6a15f6c3ea138964fa">More...</a><br /></td></tr>
<tr class="separator:ga811ae202f55b9c6a15f6c3ea138964fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Debugging Options</h2></td></tr>
<tr class="memitem:gaad55f98fb20f7c0de53eada292bab51b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gaad55f98fb20f7c0de53eada292bab51b">MPACK_DEBUG</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:gaad55f98fb20f7c0de53eada292bab51b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables debug features.  <a href="#gaad55f98fb20f7c0de53eada292bab51b">More...</a><br /></td></tr>
<tr class="separator:gaad55f98fb20f7c0de53eada292bab51b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7e35c73ea60e1638bb3c906102eee28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gae7e35c73ea60e1638bb3c906102eee28">MPACK_STRINGS</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:gae7e35c73ea60e1638bb3c906102eee28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables descriptive error and type strings.  <a href="#gae7e35c73ea60e1638bb3c906102eee28">More...</a><br /></td></tr>
<tr class="separator:gae7e35c73ea60e1638bb3c906102eee28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9fd42292abe10e1581d75a4f8d457d61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga9fd42292abe10e1581d75a4f8d457d61">MPACK_CUSTOM_ASSERT</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga9fd42292abe10e1581d75a4f8d457d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set this to 1 to implement a custom <a class="el" href="group__config.html#ga8ae5d3e801bf531998c964212b8ace14">mpack_assert_fail()</a> function.  <a href="#ga9fd42292abe10e1581d75a4f8d457d61">More...</a><br /></td></tr>
<tr class="separator:ga9fd42292abe10e1581d75a4f8d457d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c3a10274e55f106c8734fb65c575321"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga8c3a10274e55f106c8734fb65c575321">MPACK_READ_TRACKING</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga8c3a10274e55f106c8734fb65c575321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables compound type size tracking for readers.  <a href="#ga8c3a10274e55f106c8734fb65c575321">More...</a><br /></td></tr>
<tr class="separator:ga8c3a10274e55f106c8734fb65c575321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82020e4a54933931ed83698cc65491c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga82020e4a54933931ed83698cc65491c1">MPACK_WRITE_TRACKING</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga82020e4a54933931ed83698cc65491c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables compound type size tracking for writers.  <a href="#ga82020e4a54933931ed83698cc65491c1">More...</a><br /></td></tr>
<tr class="separator:ga82020e4a54933931ed83698cc65491c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Miscellaneous Options</h2></td></tr>
<tr class="memitem:ga44e59b9d1a21ea2f489c0dcc5b52d166"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga44e59b9d1a21ea2f489c0dcc5b52d166">MPACK_OPTIMIZE_FOR_SIZE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga44e59b9d1a21ea2f489c0dcc5b52d166"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to optimize for size or speed.  <a href="#ga44e59b9d1a21ea2f489c0dcc5b52d166">More...</a><br /></td></tr>
<tr class="separator:ga44e59b9d1a21ea2f489c0dcc5b52d166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30464f0269454ad72c7fb1b0b477225b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga30464f0269454ad72c7fb1b0b477225b">MPACK_STACK_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:ga30464f0269454ad72c7fb1b0b477225b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack space in bytes to use when initializing a reader or writer with a stack-allocated buffer.  <a href="#ga30464f0269454ad72c7fb1b0b477225b">More...</a><br /></td></tr>
<tr class="separator:ga30464f0269454ad72c7fb1b0b477225b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga95eeff0ce89e4bbb0bb75888df2da6b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga95eeff0ce89e4bbb0bb75888df2da6b4">MPACK_BUFFER_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:ga95eeff0ce89e4bbb0bb75888df2da6b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer size to use for allocated buffers (such as for a file writer.)  <a href="#ga95eeff0ce89e4bbb0bb75888df2da6b4">More...</a><br /></td></tr>
<tr class="separator:ga95eeff0ce89e4bbb0bb75888df2da6b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41e1f9cc9a9b4934473bb1997fa1d27c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga41e1f9cc9a9b4934473bb1997fa1d27c">MPACK_NODE_PAGE_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:ga41e1f9cc9a9b4934473bb1997fa1d27c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum size of an allocated node page in bytes.  <a href="#ga41e1f9cc9a9b4934473bb1997fa1d27c">More...</a><br /></td></tr>
<tr class="separator:ga41e1f9cc9a9b4934473bb1997fa1d27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb291403e270476673d09faaba8304a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gabb291403e270476673d09faaba8304a7">MPACK_NODE_INITIAL_DEPTH</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:gabb291403e270476673d09faaba8304a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The initial depth for the node parser.  <a href="#gabb291403e270476673d09faaba8304a7">More...</a><br /></td></tr>
<tr class="separator:gabb291403e270476673d09faaba8304a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1318ead9efc98fed887169d8dc37fe4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#gab1318ead9efc98fed887169d8dc37fe4">MPACK_NODE_MAX_DEPTH_WITHOUT_MALLOC</a>&#160;&#160;&#160;32</td></tr>
<tr class="memdesc:gab1318ead9efc98fed887169d8dc37fe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum depth for the node parser if <a class="el" href="group__config.html#gaae24f07943fceb85820a88fa72373482">MPACK_MALLOC</a> is not available.  <a href="#gab1318ead9efc98fed887169d8dc37fe4">More...</a><br /></td></tr>
<tr class="separator:gab1318ead9efc98fed887169d8dc37fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Debug Functions</h2></td></tr>
<tr class="memitem:ga8ae5d3e801bf531998c964212b8ace14"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__config.html#ga8ae5d3e801bf531998c964212b8ace14">mpack_assert_fail</a> (const char *message)</td></tr>
<tr class="memdesc:ga8ae5d3e801bf531998c964212b8ace14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement this and define <a class="el" href="group__config.html#ga9fd42292abe10e1581d75a4f8d457d61">MPACK_CUSTOM_ASSERT</a> to use a custom assertion function.  <a href="#ga8ae5d3e801bf531998c964212b8ace14">More...</a><br /></td></tr>
<tr class="separator:ga8ae5d3e801bf531998c964212b8ace14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga95eeff0ce89e4bbb0bb75888df2da6b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga95eeff0ce89e4bbb0bb75888df2da6b4">&#9670;&nbsp;</a></span>MPACK_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_BUFFER_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer size to use for allocated buffers (such as for a file writer.) </p>
<p>Starting with a single page and growing as needed seems to provide the best performance with minimal memory waste. Increasing this does not improve performance even when writing huge messages. </p>

</div>
</div>
<a id="ga3b7bc28af1393f6ab472f4595e29387b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b7bc28af1393f6ab472f4595e29387b">&#9670;&nbsp;</a></span>MPACK_COMPATIBILITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_COMPATIBILITY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables compatibility features for reading and writing older versions of MessagePack. </p>
<p>This is disabled by default. When disabled, the behaviour is equivalent to using the default version, <a class="el" href="group__common.html#ggaba84f7d6b203a1f51f2a3e10c80318e2a8c85d0a71537cbf52f57125bf6e55fcb">mpack_version_current</a>.</p>
<p>Enable this if you need to interoperate with applications or data that do not support the new (v5) MessagePack spec. See the section on v4 compatibility in <a class="el" href="md_docs_protocol.html">Protocol Clarifications</a> for more information. </p>

</div>
</div>
<a id="ga9fd42292abe10e1581d75a4f8d457d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9fd42292abe10e1581d75a4f8d457d61">&#9670;&nbsp;</a></span>MPACK_CUSTOM_ASSERT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_CUSTOM_ASSERT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set this to 1 to implement a custom <a class="el" href="group__config.html#ga8ae5d3e801bf531998c964212b8ace14">mpack_assert_fail()</a> function. </p>
<p>See the documentation on <a class="el" href="group__config.html#ga8ae5d3e801bf531998c964212b8ace14">mpack_assert_fail()</a> for details.</p>
<p>Asserts are only used when <a class="el" href="group__config.html#gaad55f98fb20f7c0de53eada292bab51b">MPACK_DEBUG</a> is enabled, and can be triggered by bugs in MPack or bugs due to incorrect usage of MPack. </p>

</div>
</div>
<a id="gaad55f98fb20f7c0de53eada292bab51b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad55f98fb20f7c0de53eada292bab51b">&#9670;&nbsp;</a></span>MPACK_DEBUG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_DEBUG&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables debug features. </p>
<p>You may want to wrap this around your own debug preprocs. By default, this is enabled if <code>DEBUG</code> or <code>_DEBUG</code> are defined. (<code>NDEBUG</code> is not used since it is allowed to have different values in different translation units.) </p>

</div>
</div>
<a id="ga6e845bcb4582176785c92cbdb091c4a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e845bcb4582176785c92cbdb091c4a5">&#9670;&nbsp;</a></span>MPACK_EXPECT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_EXPECT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables compilation of the static Expect API. </p>

</div>
</div>
<a id="gab1d8587f6e314e491c7fdb262f0b2bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1d8587f6e314e491c7fdb262f0b2bd1">&#9670;&nbsp;</a></span>MPACK_EXTENSIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_EXTENSIONS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the use of extension types. </p>
<p>This is disabled by default. Define it to 1 to enable it. If disabled, functions to read and write extensions will not exist, and any occurrence of extension types in parsed messages will flag <a class="el" href="group__common.html#gga9d9f282ca4183ab5190e09d04c1f74c4a6d6111704fd59c034f9958c353c6da93">mpack_error_invalid</a>.</p>
<p>MPack discourages the use of extension types. See the section on extension types in <a class="el" href="md_docs_protocol.html">Protocol Clarifications</a> for more information. </p>

</div>
</div>
<a id="ga298d7c2e4093bcfe361088df9e35956a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga298d7c2e4093bcfe361088df9e35956a">&#9670;&nbsp;</a></span>MPACK_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_FREE&#160;&#160;&#160;free</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the memory free function used by MPack. </p>
<p>This is used by helpers for automatically allocating data the correct size. If this macro is undefined, the allocation helpers will not be compiled.</p>
<p>The default is <code>free()</code> if <a class="el" href="group__config.html#gaae24f07943fceb85820a88fa72373482">MPACK_MALLOC</a> has not been customized and <a class="el" href="group__config.html#ga94840bf23dac204b9fe48c769777400e">MPACK_STDLIB</a> is enabled. </p>

</div>
</div>
<a id="ga4e0e2bdb75e6b597b16caaf42439b2a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e0e2bdb75e6b597b16caaf42439b2a2">&#9670;&nbsp;</a></span>MPACK_HAS_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_HAS_CONFIG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the use of an <code>mpack-config.h</code> configuration file for MPack. </p>
<p>This file must be in the same folder as <code>mpack.h</code>, or it must be available from your project's include paths. </p>

</div>
</div>
<a id="gaae24f07943fceb85820a88fa72373482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae24f07943fceb85820a88fa72373482">&#9670;&nbsp;</a></span>MPACK_MALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_MALLOC&#160;&#160;&#160;malloc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the memory allocation function used by MPack. </p>
<p>This is used by helpers for automatically allocating data the correct size, and for debugging functions. If this macro is undefined, the allocation helpers will not be compiled.</p>
<p>The default is <code>malloc()</code> if <a class="el" href="group__config.html#ga94840bf23dac204b9fe48c769777400e">MPACK_STDLIB</a> is enabled. </p>

</div>
</div>
<a id="gaac5bc095026e6f851370c966845bb91f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac5bc095026e6f851370c966845bb91f">&#9670;&nbsp;</a></span>MPACK_NODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_NODE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables compilation of the dynamic Node API. </p>

</div>
</div>
<a id="gabb291403e270476673d09faaba8304a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb291403e270476673d09faaba8304a7">&#9670;&nbsp;</a></span>MPACK_NODE_INITIAL_DEPTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_NODE_INITIAL_DEPTH&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The initial depth for the node parser. </p>
<p>When MPACK_MALLOC is available, the node parser has no practical depth limit, and it is not recursive so there is no risk of overflowing the call stack. </p>

</div>
</div>
<a id="gab1318ead9efc98fed887169d8dc37fe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1318ead9efc98fed887169d8dc37fe4">&#9670;&nbsp;</a></span>MPACK_NODE_MAX_DEPTH_WITHOUT_MALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_NODE_MAX_DEPTH_WITHOUT_MALLOC&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum depth for the node parser if <a class="el" href="group__config.html#gaae24f07943fceb85820a88fa72373482">MPACK_MALLOC</a> is not available. </p>

</div>
</div>
<a id="ga41e1f9cc9a9b4934473bb1997fa1d27c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga41e1f9cc9a9b4934473bb1997fa1d27c">&#9670;&nbsp;</a></span>MPACK_NODE_PAGE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_NODE_PAGE_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minimum size of an allocated node page in bytes. </p>
<p>The children for a given compound element must be contiguous, so larger pages than this may be allocated as needed. (Safety checks exist to prevent malicious data from causing too large allocations.)</p>
<p>See <a class="el" href="group__node.html#ga37218aec593259aed8b28625ff1395fb">mpack_node_data_t</a> for the size of nodes.</p>
<p>Using as many nodes fit in one memory page seems to provide the best performance, and has very little waste when parsing small messages. </p>

</div>
</div>
<a id="ga44e59b9d1a21ea2f489c0dcc5b52d166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44e59b9d1a21ea2f489c0dcc5b52d166">&#9670;&nbsp;</a></span>MPACK_OPTIMIZE_FOR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_OPTIMIZE_FOR_SIZE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether to optimize for size or speed. </p>
<p>Optimizing for size simplifies some parsing and encoding algorithms at the expense of speed, and saves a few kilobytes of space in the resulting executable.</p>
<p>This automatically detects -Os with GCC/Clang. Unfortunately there doesn't seem to be a macro defined for /Os under MSVC. </p>

</div>
</div>
<a id="ga8c3a10274e55f106c8734fb65c575321"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8c3a10274e55f106c8734fb65c575321">&#9670;&nbsp;</a></span>MPACK_READ_TRACKING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_READ_TRACKING&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables compound type size tracking for readers. </p>
<p>This ensures that the correct number of elements or bytes are read from a compound type.</p>
<p>This is enabled by default in debug builds (provided a <code>malloc()</code> is available.) </p>

</div>
</div>
<a id="gafc71f44de1132a4efed4e2d450eb8197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc71f44de1132a4efed4e2d450eb8197">&#9670;&nbsp;</a></span>MPACK_READER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_READER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables compilation of the base Tag Reader. </p>

</div>
</div>
<a id="ga811ae202f55b9c6a15f6c3ea138964fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga811ae202f55b9c6a15f6c3ea138964fa">&#9670;&nbsp;</a></span>MPACK_REALLOC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_REALLOC&#160;&#160;&#160;realloc</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the realloc function used by MPack. </p>
<p>It is used by growable buffers to resize more efficiently.</p>
<p>The default is <code>realloc()</code> if <a class="el" href="group__config.html#gaae24f07943fceb85820a88fa72373482">MPACK_MALLOC</a> has not been customized and <a class="el" href="group__config.html#ga94840bf23dac204b9fe48c769777400e">MPACK_STDLIB</a> is enabled.</p>
<p>This is optional, even when <a class="el" href="group__config.html#gaae24f07943fceb85820a88fa72373482">MPACK_MALLOC</a> is used. If <a class="el" href="group__config.html#gaae24f07943fceb85820a88fa72373482">MPACK_MALLOC</a> is set and <a class="el" href="group__config.html#ga811ae202f55b9c6a15f6c3ea138964fa">MPACK_REALLOC</a> is not, <a class="el" href="group__config.html#gaae24f07943fceb85820a88fa72373482">MPACK_MALLOC</a> is used with a simple copy to grow buffers. </p>

</div>
</div>
<a id="ga30464f0269454ad72c7fb1b0b477225b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga30464f0269454ad72c7fb1b0b477225b">&#9670;&nbsp;</a></span>MPACK_STACK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_STACK_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stack space in bytes to use when initializing a reader or writer with a stack-allocated buffer. </p>

</div>
</div>
<a id="gab26adf73d74737f21ee1ec6bf8f213c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab26adf73d74737f21ee1ec6bf8f213c6">&#9670;&nbsp;</a></span>MPACK_STDIO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_STDIO&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the use of C stdio. </p>
<p>This adds helpers for easily reading/writing C files and makes debugging easier. </p>

</div>
</div>
<a id="ga94840bf23dac204b9fe48c769777400e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94840bf23dac204b9fe48c769777400e">&#9670;&nbsp;</a></span>MPACK_STDLIB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_STDLIB&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the use of C stdlib. </p>
<p>This allows the library to use malloc for debugging and in allocation helpers. </p>

</div>
</div>
<a id="gae7e35c73ea60e1638bb3c906102eee28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7e35c73ea60e1638bb3c906102eee28">&#9670;&nbsp;</a></span>MPACK_STRINGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_STRINGS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables descriptive error and type strings. </p>
<p>This can be turned off (by defining it to 0) to maximize space savings on embedded devices. If this is disabled, string functions such as <a class="el" href="group__common.html#gae275cfb03fa60ffac086ae2230c3d470" title="Converts an MPack error to a string. ">mpack_error_to_string()</a> and <a class="el" href="group__common.html#ga3b259cbb9ea12088346ff897676219d0" title="Converts an MPack type to a string. ">mpack_type_to_string()</a> return an empty string. </p>

</div>
</div>
<a id="ga82020e4a54933931ed83698cc65491c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga82020e4a54933931ed83698cc65491c1">&#9670;&nbsp;</a></span>MPACK_WRITE_TRACKING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_WRITE_TRACKING&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables compound type size tracking for writers. </p>
<p>This ensures that the correct number of elements or bytes are written in a compound type.</p>
<p>Note that without write tracking enabled, it is possible for buggy code to emit invalid MessagePack without flagging an error by writing the wrong number of elements or bytes in a compound type. With tracking enabled, MPack will catch such errors and break on the offending line of code.</p>
<p>This is enabled by default in debug builds (provided a <code>malloc()</code> is available.) </p>

</div>
</div>
<a id="ga76dacaad0bc2e5bb9421338f1eeecd0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76dacaad0bc2e5bb9421338f1eeecd0f">&#9670;&nbsp;</a></span>MPACK_WRITER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MPACK_WRITER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables compilation of the Writer. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8ae5d3e801bf531998c964212b8ace14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ae5d3e801bf531998c964212b8ace14">&#9670;&nbsp;</a></span>mpack_assert_fail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mpack_assert_fail </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implement this and define <a class="el" href="group__config.html#ga9fd42292abe10e1581d75a4f8d457d61">MPACK_CUSTOM_ASSERT</a> to use a custom assertion function. </p>
<p>This function should not return. If it does, MPack will <code>abort()</code>.</p>
<p>If you use C++, make sure you include <code>mpack.h</code> where you define this to get the correct linkage (or define it <code>extern "C"</code>.)</p>
<p>Asserts are only used when <a class="el" href="group__config.html#gaad55f98fb20f7c0de53eada292bab51b">MPACK_DEBUG</a> is enabled, and can be triggered by bugs in MPack or bugs due to incorrect usage of MPack. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
